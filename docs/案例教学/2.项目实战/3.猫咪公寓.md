---
title: "猫咪公寓"
date: "2019-09-03"
permalink: "/tutorials/real-projects/share-cat-room"
---

点开箱子，领取猫咪，然后不断地合成，你就可以得到不同风格和花色的大猫来；每一只喵星人风格各异，表情丰富，或机灵或慵懒或冷艳，让猫奴们爱不释手。游戏简单易上手，有趣治愈感十足，可谓老少咸宜。

![](https://puui.qpic.cn/vupload/0/20190807_1565167169697_2d462nnfdns.webp/0)

作为一款合成类游戏，乐逗游戏旗下从海外引进的正版游戏《猫咪公寓（正式版）》选择用小游戏作为这个游戏在中国本地化的突破口。

“这款合成类游戏非常适合碎片化场景，加之微信社交关系链的能力能够很好地帮助好游戏得到广泛传播，我们项目团队几乎毫不犹豫地就决定用微信小游戏来承载这款游戏。”《猫咪公寓（正式版）》小游戏开发团队，深圳战吼网络科技有限公司负责人Neil介绍道。

# 省时省力，快速上线

“作为一个长期重点做海外游戏开发的科技研发团队，我们很早就使用国外的serverless服务。当了解到腾讯云有推出基于小程序的serverless云服务（即云开发）时，我们第一反应是——**赶快用。**

选择云开发，这里主要有两个考虑。一方面，《猫咪公寓（正式版）》项目本身的逻辑主要集中在移动端本身；另一方面，我们希望能够快速上线小游戏，测试市场反馈，快速迭代，这样更有利于这款游戏的本土化。”Neil说道。

“我们之前有自建服务器，但是，运维的事情真不少——比如硬盘挂了，网络带宽不够了，CDN加速等等，好麻烦。serverless服务的出现，至少可以帮助我们省去运维的人力。不仅如此，云开发无需自备域名，无需申请 SSL 证书，因此，节省了大量预先准备的时间。

就拿登录来说吧，云开发中的云函数在每一个请求当中，包含了用户的身份信息，享受微信私有天然鉴权，这里可以省去我们很多鉴权的工作量。”

# 巧用数据库+云函数，实现好友助力功能

猫咪公寓作为合成类小游戏，对社交的需求较强烈。《猫咪公寓（正式版）》研发团队在社交交互上面做了不少功课，希望可以很好地借助社交关系链，实现用户增长。为此，他们在游戏中上线了“好友助力”功能。

这个功能逻辑非常简单：用户可以将自己的游戏界面以卡片的形式分享给朋友，朋友点击卡片进入小程序以后，会给用户随机增加一只猫或升级一只猫。

![](https://puui.qpic.cn/vupload/0/20190807_1565167319495_x6r5z57f7zs.webp/0)

得益于**云开发享有微信私有协议，本身请求中自带用户信息**，《猫咪公寓（正式版）》可以十分简单地实现这一功能。

在未来，《猫咪公寓（正式版）》计划基于云开发的数据库功能，实现全局范围的排行榜，我们拭目以待吧！
